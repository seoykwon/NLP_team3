# 🏗️ 계층관계 RAG 시스템 시연 가이드

## 📋 시연 개요

삼성전자 감사보고서(2014-2024)를 대상으로 한 계층관계 RAG 시스템의 핵심 기능을 시연합니다.

## 🚀 빠른 시작

### 1. 시연 환경 실행
```bash
# 실행 권한 부여 (최초 1회)
chmod +x run_demo.sh

# 시연 앱 실행
./run_demo.sh
```

### 2. 웹 브라우저 접속
- **URL**: http://localhost:8501
- **포트**: 8501

## 🎯 시연 시나리오

### 시나리오 1: 기본 계층관계 기능
**목표**: 상하위 계층관계가 있는 과목들을 함께 답변으로 제공하는 기능 시연

**질문**: "유동자산에 대해 알려주세요"

**기대 결과**:
- 유동자산의 총액 정보
- 하위 항목들 (현금및현금성자산, 단기금융상품, 매출채권 등)도 함께 표시
- 계층관계 정보 섹션에서 구조적 관계 표시

### 시나리오 2: 구체적 금액 조회
**목표**: 특정 항목의 구체적 금액과 계층관계 정보 제공

**질문**: "현금및현금성자산은 얼마인가요?"

**기대 결과**:
- 연도별 현금및현금성자산 금액
- 유동자산의 하위 항목임을 명시
- 상위 계층관계 정보 표시

### 시나리오 3: 연도별 상세 분석
**목표**: 특정 연도의 상세한 계층관계 분석

**질문**: "2024년의 유동자산에 대해 알려주고 각각 얼마인지도 알려줘"

**기대 결과**:
- 2024년 유동자산 총액
- 각 하위 항목별 구체적 금액
- 계층관계 구조 정보

### 시나리오 4: 비유동자산 분석
**목표**: 비유동자산의 계층관계 분석

**질문**: "2024년의 비유동자산에 대해 알려주고 각 하위항목의 값도 알려줘"

**기대 결과**:
- 비유동자산 총액
- 유형자산, 무형자산, 종속기업투자 등 하위 항목별 금액
- 계층관계 정보

### 시나리오 5: 손익 분석
**목표**: 손익 관련 계층관계 분석

**질문**: "2020~2024년 영업이익 추이를 알려주세요"

**기대 결과**:
- 연도별 영업이익 데이터
- 손익 계층관계 정보
- 추이 분석

## 🔍 시연 포인트

### 1. 계층관계 인식 기능
- **키워드 자동 추출**: 쿼리에서 계층관계 키워드 자동 인식
- **관련 항목 확장**: 상위/하위 항목들 자동 검색
- **구조적 답변**: 계층관계를 고려한 포괄적 답변

### 2. 시각적 계층관계 표시
- **계층관계 정보 섹션**: 별도 섹션으로 구조 표시
- **트리 구조**: 상하위 관계를 명확히 표현
- **색상 구분**: 계층 레벨별 시각적 구분

### 3. 투명성 및 근거 제시
- **청크 참조**: 답변의 근거가 되는 문서 정보 표시
- **유사도 점수**: 검색 결과의 신뢰도 표시
- **메타데이터**: 회사, 연도, 계정명 등 상세 정보

### 4. 실시간 시스템 상태
- **처리 시간**: 답변 생성 소요 시간 표시
- **검색 통계**: 검색된 청크 수, 유사도 임계값 등
- **시스템 메트릭**: 실시간 성능 지표

## 🛠️ 시연 설정

### 검색 파라미터 조절
- **검색 청크 수**: 3-15개 (기본값: 8)
- **유사도 임계값**: 0.0-1.0 (기본값: 0.6)

### 시연용 샘플 질문
사이드바에 6개의 시연용 샘플 질문이 준비되어 있습니다:
1. 🏗️ 계층관계 기본
2. 💰 구체적 금액
3. 📊 연도별 비교
4. 🏢 비유동자산
5. 📈 손익 분석
6. 🔍 상세 분석

## 📊 시연 결과 확인

### 답변 품질 확인
- [ ] 계층관계 정보가 별도 섹션에 표시되는가?
- [ ] 상하위 관계가 명확히 설명되는가?
- [ ] 구체적인 수치와 데이터가 포함되는가?
- [ ] 청크 참조 정보가 제공되는가?

### 시스템 성능 확인
- [ ] 답변 생성 시간이 적절한가? (5-15초)
- [ ] 검색된 청크 수가 설정값과 일치하는가?
- [ ] 유사도 점수가 임계값을 만족하는가?

## 🎨 시연 팁

### 효과적인 시연을 위한 팁
1. **단계별 설명**: 각 기능을 단계별로 설명
2. **비교 설명**: 기존 RAG vs 계층관계 RAG 차이점 강조
3. **실시간 피드백**: 시연 중 시청자 질문에 즉시 응답
4. **시각적 요소**: 계층관계 정보 섹션의 시각적 표현 강조

### 시연 순서 권장
1. 시스템 개요 및 특징 소개
2. 기본 계층관계 기능 시연
3. 구체적 금액 조회 시연
4. 연도별 상세 분석 시연
5. 시스템 성능 및 투명성 설명
6. Q&A 및 추가 질문 응답

## 🔧 문제 해결

### 일반적인 문제
- **API 키 오류**: 환경변수 OPENAI_API_KEY 확인
- **Qdrant 연결 오류**: Qdrant 서버 실행 상태 확인
- **의존성 오류**: requirements.txt 패키지 설치 확인

### 시연 중 문제 발생 시
1. 시스템 재초기화 버튼 클릭
2. 브라우저 새로고침
3. 터미널에서 오류 메시지 확인

---
*시연 가이드 버전: 1.0.0*
*최종 업데이트: 2024년 9월 24일*
